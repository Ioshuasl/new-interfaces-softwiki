<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Livro de Protocolo</title>
</head>

<body>

    <div class="sidebar">
        <h2><a href="index.html">Menu</a></h2>
        <ul>
            <li><a href="" class="submenu-toggle">
                    <h3>Registros</h3>
                </a>
                <ul class="submenu">
                    <li><a href="">Nascimento</a></li>
                    <li><a href="">Casamento</a></li>
                    <li><a href="">Obito</a></li>
                    <li><a href="">Natimorto</a></li>
                </ul>
            </li>
            <li>
                <a href="" class="submenu-toggle">
                    <h3>Configura√ß√£o de Cadastro</h3>
                </a>
                <ul class="submenu">
                    <li><a href="">Cart√≥rio</a></li>
                    <li><a href="">Pessoas</a></li>
                    <li><a href="">Minuta</a></li>
                    <li><a href="">Livro</a></li>
                    <li><a href="">Complemento Pessoas</a></li>
                    <li><a href="">Outros Cart√≥rios</a></li>
                    <li><a href="">CID</a></li>
                    <li><a href="">Tipo de Andamento</a></li>
                    <li><a href="">Tipo de Servi√ßo</a></li>
                    <li><a href="">Livro E</a></li>
                    <li><a href="">Emolumentos</a></li>
                </ul>
            </li>
            <li><a href="" class="submenu-toggle">
                    <h3>Integra√ß√£o</h3>
                </a>
                <ul class="submenu">
                    <li><a href="">CRC</a></li>
                    <li><a href="">SIRC</a></li>
                    <li><a href="">IBGE</a></li>
                    <li><a href="">Relat√≥rio Justi√ßa <br>Eleitoral/Exercito</a></li>
                </ul>
            </li>
            <li><a href="" class="submenu-toggle">
                    <h3>Impress√£o</h3>
                </a>
                <ul class="submenu">
                    <li><a href="">Impress√£o de Protocolo</a></li>
                </ul>
            </li>
            <li><a href="" class="submenu-toggle">
                    <h3>Administra√ß√£o</h3>
                </a>
                <ul class="submenu">
                    <li><a href="">Controle de Marca√ß√£o</a></li>
                </ul>
            </li>
            <li><a href="">
                    <h3>Configura√ß√£o do sistema</h3>
                </a></li>
        </ul>
    </div>

    <div class="content">
        <div class="protocol-book">
            <h2>Livro de Protocolo</h2>

            <!-- Filtros -->
            <div class="filters">
                <select id="typeSelector" class="filter-select">
                    <option value="">Tipo de Servi√ßo</option>
                    <option value="registro">Registro</option>
                    <option value="certidao">Certid√£o</option>
                    <option value="averbacao">Averba√ß√£o</option>
                    <option value="requerimento">Requerimento</option>
                </select>

                <input type="date" id="startDate" class="filter-date" />
                <input type="date" id="endDate" class="filter-date" />

                <button class="btn-filter" onclick="buscarProtocolos()">Buscar</button>
                <button class="btn-print" onclick="imprimirProtocolos()">üñ®Ô∏è Imprimir</button>
            </div>

            <!-- Resultado da Busca -->
            <div class="result-table">
                <table class="styled-table" id="protocolTable">
                    <thead>
                        <tr>
                            <th>N¬∫ Protocolo</th>
                            <th>Tipo de Servi√ßo</th>
                            <th>Nome do Requerente</th>
                            <th>Data/Hora</th>
                            <th>Usu√°rio</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="protocolBody">
                        <!-- Dados ser√£o inseridos aqui via JS -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const submenuToggles = document.querySelectorAll('.submenu-toggle');

            submenuToggles.forEach(toggle => {
                toggle.addEventListener('click', function (event) {
                    event.preventDefault(); // Previne o comportamento padr√£o do link
                    const submenu = this.nextElementSibling; // Seleciona o submenu associado

                    // Alterna a visibilidade do submenu
                    if (submenu.style.display === 'block') {
                        submenu.style.display = 'none';
                    } else {
                        submenu.style.display = 'block';
                    }
                });
            });
        });
    </script>

    <script>
        function buscarProtocolos() {
            const tableBody = document.getElementById('protocolBody');
            tableBody.innerHTML = ''; // Limpa resultados anteriores

            const tipoServico = document.getElementById('typeSelector').value;

            // Dados simulados - voc√™ pode substituir por dados reais do sistema
            const protocolos = [
                { numero: '20250523001', tipo: 'registro', nome: 'Jo√£o Silva', data: '23/05/2025 10:30', usuario: 'Maria Oliveira', status: 'Conclu√≠do' },
                { numero: '20250523002', tipo: 'certidao', nome: 'Ana Souza', data: '23/05/2025 11:15', usuario: 'Pedro Almeida', status: 'Conclu√≠do' },
                { numero: '20250523003', tipo: 'averbacao', nome: 'Carlos Lima', data: '23/05/2025 14:00', usuario: 'Maria Oliveira', status: 'Conclu√≠do' }
            ];

            protocolos.forEach(proto => {
                if (!tipoServico || proto.tipo === tipoServico) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                <td>${proto.numero}</td>
                <td>${formatarTipo(proto.tipo)}</td>
                <td>${proto.nome}</td>
                <td>${proto.data}</td>
                <td>${proto.usuario}</td>
                <td><span class="badge badge-success">${proto.status}</span></td>
            `;
                    tableBody.appendChild(row);
                }
            });
        }

        function formatarTipo(tipo) {
            switch (tipo) {
                case 'registro': return 'Registro';
                case 'certidao': return 'Certid√£o';
                case 'averbacao': return 'Averba√ß√£o';
                case 'requerimento': return 'Requerimento';
                default: return tipo;
            }
        }

        function imprimirProtocolos() {
            window.print();
        }
    </script>
</body>

</html>